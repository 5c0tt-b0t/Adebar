# What the files are about and what to do with them

## Files that ship with *Adebar*
* `adebar-cli`: the main command-line script. Run this to generate your backup and restore scripts.
* `config.sample`: an example config file. If you do not need support for pulling stuff via the
  *Titanium Backup* built-in web server, and satisfied with how things work by default, you can
  ignore this file. Otherwise, copy or rename it to `config`, and adjust it to your needs.
* `getPkgData.php`: a PHP script to parse and analyze the `packages.xml` file. Called from
  `adebar-cli`, but you also can use it directly.
* `LICENSE`: *Adebar* license details (GPLv2)
* `README.md`: general information on *Adebar*
* `xml2array.php`: helper to `getPkgData.php` (converts XML to an PHP array)


## Files generated by *Adebar*
* `deadreceivers`: simple list of disabled broadcast receivers
* `deadReceivers.md`: the same in markdown format, so you can read it easier
* `deadReceivers.sh`: script which (hopefully) disables those components again, e.g. after a factory-reset
* `defaultInstallLoc`: 1-liner to set the default-install-location for apps
* `deviceInfo.md`: information on the device, e.g. device-features and properties
* `disable`: shell script utilizing ADB to disable packages
* `packages.xml`: this file is pulled from your device(s) if possible
* `sysbackup`: script to backup all data of your system apps, including shared storage (data from the SD cards)
* `sysrestore`: script to restore the entire system data backed up with `sysbackup`
* `tibu`: script to pull data via the web server built in to *Titanium Backup*
* `userApps.md`: List of installed apps, grouped by their source
* `userbackup`: script to backup all your user apps and their data
* `userrestore`: script to restore the very same
* `wpa_supplicant.conf`: pulled from your device if possible, contains all your WiFi APs, their passwords, etc.

Note that not all of those files are generated in all cases. Some depend on conditions:

* `deadreceivers` requires the `packages.xml` has been pulled. This might fail on some devices. It also requires the `xml2` tool being installed on your computer.
* `packages.xml` of course can only be there if *Adebar* was able to pull it (see previous point)
* `tibu` is only generated when the variable `DEVICE_IP` was set to an IP/hostname in the config (by default, it's not/empty)
* `userApps.md` again requires the `packages.xml` (see above)
* `wpa_supplicant.conf` can only be pulled if the ADB daemon on the device is running in root-mode


## What to do with the generated files?
Some of them are just intended for reference (`*.md`, `deadreceivers`, `wpa_supplicant.conf`), others
are for *Adebar* itself to evaluate (`packages.xml`). The shell scripts (usually made executable by
*Adebar*) are for you to run, after an optional modification:

* `userbackup`/`sysbackup`: you can comment out apps you don't want to backup, then run the scripts to do the job.
  While being run, `sysbackup` will ask you whether to pull "shared storage" (i.e. contents from your device's
  SD cards), as that is a quite "resource consuming" job which probably takes quite long (depending on how much
  data there is on the cards), so you can easily skip this even with an unmodified script.
* `userrestore`/`sysrestore`: that's the "counter-part", and holds the restore commands for everything that was
  originally part of the corresponding backup script. Again, you will be prompted whether to restore "shared storage".
* `tibu`: after having started the *Titanium Backup* built-in web server, this script can be used to pull what that
  offers. Basically, "shared storage" again (but external and internal cards separately), plus a ZIP containing
  all your *TiBu* backups.
* `disable`: useful if you had to factory-reset your device, and previously had some apps "frozen" (disabled).
  Run this script to automatically disable all apps you had disabled when *Adebar* created this script.
* `deadReceivers.sh`: similar to the previous point, but for "disabled components" (i.e. auto-starts and the
  likes). Note that this also contains components the apps might have disabled themselves based on their
  configurations (e.g. *Business Calendar* does this so you can disable widgets you do not intend to use,
  other apps might have done this if you e.g. disabled their "start on boot" or other functions). While it
  should do no harm, I can give no guarantees: You better check and make sure the script only holds what you need.
